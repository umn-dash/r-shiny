<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>R Shiny: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../site.webmanifest">
<link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      R Shiny
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            R Shiny
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  R Shiny
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="shiny_1.html">1. Web development 101</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="shiny_2.html">2. R Shiny--The Ground Floor</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="shiny_3.html">3. R Shiny--The First Floor (Rendering, Inputs, and Reactivity)</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-shiny_1"><p>Content from <a href="shiny_1.html">Web development 101</a></p>
<hr>
<p>Last updated on 2024-07-11 |

        <a href="https://github.com/carpentries/r_shiny_workshop/edit/main/episodes/shiny_1.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 35 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How is a website built?</li>
<li>How is building a website using R Shiny similar to/different from
doing so the “usual” way?</li>
<li>What does a website “look like,” under the hood? What’s one made up
of?</li>
<li>What are the most common website “building blocks?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Meet the languages used to build websites.</li>
<li>Describe how R Shiny relates to other web development
languages.</li>
<li>Picture a typical website’s structure.</li>
<li>List components of a typical website.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p><strong>Important</strong>: This course assumes you have working
knowledge of the R programming language and the RStudio Integrated
Development Environment (IDE). If either is new to you, you could
struggle with this course (although the R code we’ll be writing is
generally basic). You should consider an Intro R course before this one,
in that case.</p>
<p>By contrast, this course assumes you have <strong>no</strong>
previous web development experience at all. If you do, this course may
be too introductory or simplified to capture your full attention,
although you may still find it an interesting overview of the R Shiny
framework.</p>
<section><h2 class="section-heading" id="the-webs-languages">The web’s languages<a class="anchor" aria-label="anchor" href="#the-webs-languages"></a>
<a class="anchor" aria-label="anchor" href="#the-webs-languages"></a>
</h2>
<hr class="half-width">
<p>R is a <strong>programming language.</strong> That’s a fancy way of
saying that it’s a system with which we can direct a computer to do
things for us.</p>
<p>Like a human language, R makes a computer do stuff for us through a
combination of:</p>
<ul>
<li><p>” nouns” (<strong>objects</strong>),</p></li>
<li><p>“verbs” (<strong>functions</strong>),</p></li>
<li><p>“punctuation” (<strong>operators</strong> like <code>&lt;-</code>
and <code>%&gt;%</code>),</p></li>
<li><p>“questions” (<strong>logical tests</strong> like
<code>x == y</code>), and</p></li>
<li><p>“grammar/syntax” (<strong>rules</strong> like <code>1a</code>
being an unacceptable object name but <code>a1</code> being
valid).</p></li>
</ul>
<p>To have R direct our computer to do things for us, we must form valid
and complete R “sentences” (<strong>commands</strong>) and “paragraphs”
(<strong>code blocks</strong>) in which we create nouns, subject them to
verbs, and follow all the rules, just as we would for a human
language.</p>
<p>R Shiny, meanwhile, is <em>not</em> a <strong>programming
language.</strong> Instead, it’s what a web developer might call a
<strong>framework</strong>; it’s a set of tools you can use to build a
complete, <em>interactive</em> website. Specifically, it leverages R and
its coding conventions to accomplish that task (as opposed to other,
comparable tools a web developer could use instead).</p>
<p>To appreciate how R Shiny is distinct as a web development framework,
and to understand how to use it well, we need to understand a few basic
things about “normal” web development:</p>
<ol style="list-style-type: decimal">
<li><p>What <em>languages</em> are typically used to build websites that
R Shiny is <em>sort of</em> replacing, what each is for, and how each
generally works,</p></li>
<li><p>The <em>structure</em> of a typical website (the “wheres”),
and</p></li>
<li><p>The typical <em>components</em> (the “whats”) of a
website.</p></li>
</ol>
<p>Those will be this first lesson’s topics.</p>
<div class="section level4">
<h4 id="how-the-web-is-woven">How the web is woven<a class="anchor" aria-label="anchor" href="#how-the-web-is-woven"></a>
</h4>
<p>To generalize, a website is constructed using several languages, each
to accomplish discrete objectives. The most notable of these are
<strong>HTML</strong>, <strong>CSS</strong>, and
<strong>JavaScript</strong> (JS for short):</p>
<ul>
<li><p><strong>HTML</strong> is used to <em>structure</em> a website.
It’s how a web developer specifies <strong>what</strong> elements a user
can see should go <strong>where</strong> on the page.</p></li>
<li><p><strong>CSS</strong> is used to <em>design</em> a website. It’s
how a web developer specifies <strong>how</strong> each element should
<strong>look</strong> (its colors, size, <em>etc.</em>).</p></li>
<li>
<p><strong>JavaScript</strong> is used to code a website’s
<em>behaviors</em>. A website is largely just an application running
inside of your browser (<em>e.g.</em>, Edge or Safari). While it runs,
any changes to the website that occur due to your actions are coded
using JavaScript.</p>
<ul>
<li>For example, if an app contains a button, and if the button
disappears when pressed (a shift in the site’s HTML), the page turns
green (a shift in the site’s CSS), and some data you provided are sent
to a central database (a shift in the app’s relationship with the wider
internet), JS is likely dictating those shifts.</li>
</ul>
</li>
</ul>
<p>Together, HTML, CSS, and JS make up what’s called the “<em>front
end</em>,” “<em>user interface</em>,” or “<em>client side</em>” of a
website. A website’s <strong>user interface</strong> (UI for short) is
what they see and interact with, and it’s based on code running on their
computer inside their browser.</p>
<p>Because it may be unintuitive that a significant part of the “work”
of websites happens on your computer rather than “in the cloud,” it’s
worth spelling out how a website actually works:</p>
<ol style="list-style-type: decimal">
<li><p>When a user visits a website, a server hosting that website sends
a packet of files (including a bunch of HTML, CSS, and JS files) to the
user’s computer.</p></li>
<li><p>These are then opened by that user’s browser and
deciphered.</p></li>
<li><p>The browser then builds the website the user sees using those
instructions. The web is “alive” on your computer!</p></li>
<li><p>When the website needs “further instructions” of how to behave or
what content to show, a “dialogue” is opened with the server and new
files are sent/received and deciphered.</p></li>
</ol>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>Have you ever had to clear your browser’s <strong>cache</strong>
(files associated with your browsing activities)? What do you think
makes up the bulk of the files that get deleted when you clear your
cache?</p>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>A good portion of your cache, in terms of numbers of files anyway,
will be HTML, CSS, and JS files sent to you by servers to build the
websites you’re visiting! However, there will be some additional files,
including image and video files (which can be very bulky), files for
special fonts that a website may want to use, and JSON files (text files
that can store data), among others.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>However, as implied by the 4th point above, there is <em>always</em>
a second “half” to a website. Somewhere, a <em>server</em> (a computer,
basically, but more automated than a personal computer) must be the
website’s “host,” receiving requests for information and sending that
information out and handling new data being collected.</p>
<p>A server might also need to store private data, such as passwords, or
do complex operations that would be awkward to do in a user’s browser
(especially if their computer isn’t powerful!). It also may perform
security checks to ensure users aren’t trafficking malware or spam!</p>
<p>For all these purposes and more, websites have “back ends” or “server
sides.” Here, the language SQL might be used to carefully store or read
data from large databases, and a whole host of other programming
languages might be used for complex operations and other tasks,
including JS, PHP, Python, Ruby, and C#, just to name a few!</p>
<p>When a web developer talks about a framework, they are referring to
the entire complement of tools needed to build both halves of a website.
So, “HTML, CSS, JS, PHP, and SQL” is a popular framework.</p>
</div>
<div class="section level4">
<h4 id="where-r-shiny-fits-in">Where R Shiny fits in<a class="anchor" aria-label="anchor" href="#where-r-shiny-fits-in"></a>
</h4>
<p>When you build a website using R Shiny, you’ll be writing two kinds
of code (for the most part):</p>
<ul>
<li><p>“Normal” R code and</p></li>
<li><p>“R-like,” or “R Shiny” code.</p></li>
</ul>
<p>The latter will <em>look</em> a lot like R code to you (that’s the
point!). However, this code is <em>really</em> destined to become HTML,
CSS, and JS code—when a Shiny app is compiled and run, R will translate
your R Shiny code into the equivalent HTML, CSS, and JS code that a
browser can understand. This allows us to build the <em>entire</em> UI
of a website <em>without</em> needing to know much, if any, HTML, CSS,
or JS!</p>
<p>The “normal” R code you’re writing, meanwhile, will largely operate
within your website’s “back end’ (or”server side”), where it may
manipulate data sets, store values, send data to storage locations, or
keep track of user actions. You know—“typical R stuff!” This means that
we can build the entire server side of a website without needing to know
much, if any, JS, PHP, Ruby on Rails, Python, SQL, etc.!</p>
<p>So, R + R Shiny enable you to build both halves of a fully
interactive, complex website without necessarily requiring you to know
<em>any</em> other web development languages or frameworks! In
particular, R admirably takes the place of other, general programming
languages typically used for handling server-side tasks, such as Python
or PHP, <em>especially</em> when those task revolve around data
manipulation, management, or display.</p>
<div id="discussion2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion2"></a>
</h3>
<div class="callout-content">
<p>Hopefully, you now recognize that websites can be built both with and
without R Shiny. What is <em>different</em> about building a website
using R Shiny, then?</p>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>A few things are different about building a website using R Shiny,
but I think the two most important differences are:</p>
<ol style="list-style-type: decimal">
<li><p>Whereas writing “pure” HTML, CSS, and JS is often necessary to
build a website, deep knowledge of these languages is not required to
build a website with R Shiny. Instead, you will write R code + R Shiny
code and these will get “translated” into the equivalent HTML, CSS, and
JS code for you.</p></li>
<li><p>Normally, to construct the “back end” of a website, a general
programming language like PHP or Python is used. These languages are
quite different from JS, so designing a conventional website often
requires programming in (at least) two <em>different</em> general
programming languages, at least one of which you may have never
encountered before if you’re not a programmer (JS and PHP are not widely
used for other purposes). With R Shiny, you can code both the front and
back ends of a website using a single general programming language
(R).</p></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="lets-meet-html-and-css">Let’s meet HTML and CSS<a class="anchor" aria-label="anchor" href="#lets-meet-html-and-css"></a>
<a class="anchor" aria-label="anchor" href="#lets-meet-html-and-css"></a>
</h2>
<hr class="half-width">
<p>While R Shiny ensures you don’t <em>need</em> to learn HTML and CSS
to build a website, it is still translating your R Shiny code into HTML
and CSS to do so, which means it’s beholden to these languages in some
key ways. As such, to build a <em>really</em> nice Shiny app, it’s
helpful to understand the very basics of both languages. Knowing a
little will make the R Shiny code we have to write make a lot more sense
than going in blind!</p>
<p>If learning R was difficult for you, <strong>don’t panic</strong>!
Compared to learning the basics of R, learning the basics of HTML and
CSS is <strong>much</strong> easier because the latter
<strong>aren’t</strong> <em>general</em> <em>programming</em> languages;
because their purposes are much narrower, they need a lot fewer “words”
and “rules” to do their jobs than R does. Knowing even a little about
these two languages will go a long way.</p>
<div class="section level3">
<h3 id="html-101">HTML 101<a class="anchor" aria-label="anchor" href="#html-101"></a>
</h3>
<p>We’ll start with HTML, since it’s the foundation of a website. Pretty
much everything an R Shiny developer <strong>really</strong> needs to
understand about HTML can be collapsed into four key concepts:</p>
<div class="section level4">
<h4 id="key-concept-1-all-websites-are-boxes-within-boxes">Key concept #1: All websites are “boxes within boxes”<a class="anchor" aria-label="anchor" href="#key-concept-1-all-websites-are-boxes-within-boxes"></a>
</h4>
<p>At its core, every website is just a box containing one or more other
boxes, each of which might contain yet more boxes, and so on all the way
down. By “box” here, I mean “a container that holds stuff,” not “a
rectangle” (though a lot of website boxes <em>are</em> rectangles).</p>
<p>Really, HTML is just the web language used to specify which boxes go
inside which other boxes and what those inner boxes should hold. Besides
other boxes, HTML boxes can hold blocks of text, pictures, links, menus,
lists, and much more.</p>
<p>In terms of raw code, every HTML box looks <em>something</em> like
this:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">HTML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode html" tabindex="0"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"my box"</span><span class="dt">&gt;</span>My box's contents<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre>
</div>
<p>That means (almost) every HTML box has:</p>
<ul>
<li><p>An <strong>opening tag</strong> (<em>e.g.</em>,
<code>&lt;div...&gt;</code>), which tells the browser when the box
“starts.”</p></li>
<li><p>A <strong>closing tag</strong> (<em>e.g.</em>,
<code>&lt;/div&gt;</code>), which tells the browser when a box has
“ended.”</p></li>
<li><p>A space for <em>contents</em> between the two tags (here, that’s
the text <code>My box's contents</code> and is found between the opening
tag’s <code>&gt;</code> and the closing tag’s <code>&lt;</code>), which
could include other boxes!</p></li>
<li>
<p>Space inside the opening tag for <em>attributes</em>, which make
our boxes “special.” Here, we gave our box a unique <code>id</code>
using <code>attribute = "value"</code> format.</p>
<ul>
<li>So, if the boxes themselves are the “nouns,” attributes inside the
opening tag are “adjectives.”</li>
</ul>
</li>
</ul>
<p>In R Shiny, you can build the exact same box, but you’ll use “R-like
code” to do it:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">div</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"my box"</span>,</span>
<span>    <span class="st">"My box's contents"</span><span class="op">)</span></span></code></pre>
</div>
<p>So, we’ve replaced HTML’s tag system involving <code>&lt;&gt;</code>s
with R’s function system and its <code>( )</code>s and specify
attributes and box contents using R’s traditional function
<em>argument</em> system.</p>
</div>
<div class="section level4">
<h4 id="key-concept-2-websites-have-heads-and-bodies">Key concept #2: Websites have heads and bodies<a class="anchor" aria-label="anchor" href="#key-concept-2-websites-have-heads-and-bodies"></a>
</h4>
<p>To oversimplify a little, every website is just an HTML box
(<code>&lt;HTML&gt;...&lt;/HTML&gt;</code>) containing two smaller
boxes: a “head” (<code>&lt;head&gt;...&lt;/head&gt;</code>) and a “body”
(<code>&lt;body&gt;...&lt;/body&gt;</code>).</p>
<p>The head’s contents are (mostly) invisible to a website’s users;
instead, the head contains instructions for <em>how</em> the browser
should go about constructing the website—we’ll discuss the head box more
later.</p>
<p>The body box, meanwhile, contains everything the user can see and
interact with.</p>
<p>In R Shiny, we don’t need to build the HTML, head, or body boxes—R
Shiny will make these for us. Instead, we will spend most of our time
building the stuff that goes into the body box.</p>
<p>However, we can still put things into the head box if we want to by
using the <code>tags$head()</code> function:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>tags<span class="sc">$</span><span class="fu">head</span>(<span class="co">#Put contents here...)</span></span></code></pre>
</div>
<p>And, in a few instances, we will need to do this, so it’s good to
know it’s an option.</p>
</div>
<div class="section level4">
<h4 id="key-concept-3-inline-vs--block-elements">Key concept #3: Inline vs. block elements<a class="anchor" aria-label="anchor" href="#key-concept-3-inline-vs--block-elements"></a>
</h4>
<p>Broadly speaking, there are two kinds of body HTML boxes:
<strong>inline</strong> boxes and <strong>block</strong> boxes. The
difference between these two types is how they are displayed when a
website is built.</p>
<p>A <em>block element</em> takes up the <em>entire</em> horizontal
“row” it is played on. In other words, it’ll occupy the <em>entire</em>
width of the browser window (if allowed), and it’ll force the next item
to go below it rather than next to it, as though the browser was forced
to hit the “Enter” key after building it.</p>
<p>For example, the <code>&lt;p&gt;...&lt;/p&gt;</code> element (created
in Shiny using <code>p()</code>) creates “paragraph” boxes (or, more
accurately, boxes for blocks of text which can be more or less than a
paragraph). If you put several consecutive paragraph boxes inside your
body box, they would be displayed in a column, with the first one at the
top and the last one at the bottom, and each would occupy the full width
of the screen available to them:</p>
<figure><img src="../fig/clipboard-3243983914.png" class="figure mx-auto d-block"></figure><p><em>Inline elements</em>, meanwhile, only take up as much horizontal
space as they have to (by default) and thus can go next to each other on
the same line, and they don’t force new lines after them.</p>
<p>For example, the <code>&lt;a&gt;...&lt;/a&gt;</code> element (made in
R using <code>a()</code>) is a box that holds a link. You could use
several such boxes within a single paragraph box without creating a new
line after each one.</p>
<p>Web users typically expect certain kinds of elements to “stand alone”
or “stand apart” from others and be treated as their “own thing,” such
as headings and navigation bars. These will generally be block elements.
Other elements are expected to “fit together,” such as links within
blocks of text. These will generally be inline elements.</p>
</div>
<div class="section level4">
<h4 id="key-concept-4-the-flow">Key concept #4: The Flow<a class="anchor" aria-label="anchor" href="#key-concept-4-the-flow"></a>
</h4>
<p>This one is a <em>little</em> hard to explain. These days, a user
might view a website on a very large screen (like that of a projector)
or a very small screen (like that of a cell phone or even a smart
watch!).</p>
<p>How much horizontal space your website has available will vary from
user to user, then. This means how your site gets displayed on a wide vs
narrow screen will also vary, and it’s something we should consider and
design for with intentionality.</p>
<p>As discussed above, block and inline elements would respond to
different screen widths differently:</p>
<ul>
<li><p>By default, block elements will <em>always</em> take up the full
width of the box they are in (which may or may not be the same as the
width of the screen), and they may stretch or squash their contents to
do so. If the screen isn’t wide enough to hold their full widths, they
may “spill” out of a user’s field of view or force scroll bars to appear
to be fully visible.</p></li>
<li><p>By default, inline elements will run horizontally until they hit
the edge of their container or screen, and then they will wrap to the
next line and continue until they are finished.</p></li>
</ul>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Try it: Go to any website (such as <a href="../www.dictionary.com" title='A link to dictionary.com, a good site for demonstrating the HTML concept of the "flow."'>dictionary.com</a>)
and vary the width of your browser window. What changes as you do
that?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>For me, I saw a number of changes as I shrunk my browser screen: The
menu at the top became a collapsed “hamburger” menu (where you get a
button of three lines, or a “hamburger,” that opens to reveal the
options), the links slid below the search bar, the word of the day box
shrank, and the games sidebar vanished, instead appearing much further
down on the page.</p>
</div>
</div>
</div>
</div>
<p>So, it’s important to remember that <em>you are never really
designing one website but a bunch: one version for each potential screen
size your users will use to view it</em>. Much of this designing will be
“automatic,” but we have to choose and place items carefully for that
automatic adjustment to work well.</p>
<p>There are a number of web development techniques/paradigms for coping
with this variable-screen-width challenge:</p>
<ul>
<li><p>Flexbox: HTML boxes can be made into “flexboxes,” which grow and
shrink according to the size of their contents. They also force their
contents to either stack next to each other or on top of each other as
needed to fit the designer’s goals and the user’s screen width.</p></li>
<li><p>CSS Grid: HTML boxes can also be arranged into CSS grids, which
make the arrangement of a website more like filling the cells of a
spreadsheet, with columns and rows that can grow or shrink depending on
screen size.</p></li>
<li><p>Media Queries: Media queries are CSS commands that change how the
website looks (<em>e.g.</em>, the size of an image) based on the screen
size of the user.</p></li>
</ul>
<p>By default, R Shiny uses an approach that is a hybrid of the first
two techniques above. Many of Shiny’s boxes are “fluid,” meaning their
size is flexible and changes according to the size of their contents.
Additionally, they can be divided into rows whose contents may flow
horizontally if there’s room or vertically if there’s not.</p>
<figure><img src="../fig/clipboard-3147076736.png" class="figure mx-auto d-block"></figure><p>As we’ll discuss later, the first step of building any R Shiny app is
to design the <em>layout</em> of your app. What needs to go where?
Remembering that your app may not be able to look the same for every
user because of the device they access it on is the first step to
designing a great app!</p>
</div>
</div>
<div class="section level3">
<h3 id="css-101">CSS 101<a class="anchor" aria-label="anchor" href="#css-101"></a>
</h3>
<p>Compared to HTML, CSS is an even easier language to understand (at
least, that’s my opinion!). HTML is the language that tells a browser
<strong>what</strong> to display and <strong>where</strong> to display
it; CSS is the language that tells a browser <strong>how</strong> to
display it.</p>
<p>CSS code consists of functional units called <strong>rules</strong>.
Each rule consists of a <strong>selector</strong> and a list of one or
more <strong>properties</strong> paired with
<strong>values</strong>:</p>
<ul>
<li><p>The <strong>selector</strong> is the part that tells a browser
which box(es) to adjust the appearance of.</p></li>
<li><p>The list of <strong>properties</strong> tells the browser which
characteristics of those boxes to change.</p></li>
<li><p>The list of <strong>values</strong> tells the browser the new
values to set for each of those characteristics.</p></li>
</ul>
<p>Here is what a <em>CSS rule</em> might look like:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">CSS<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode css" tabindex="0"><code class="sourceCode css"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>p<span class="fu">.intro</span><span class="op">,</span> div<span class="pp">#firstintro</span> {</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="kw">font-style</span><span class="ch">:</span> <span class="dv">italic</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="kw">font-size</span><span class="ch">:</span> <span class="dv">large</span><span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>} </span></code></pre>
</div>
<p>On the first line, we have two element types we’re targeting in our
selector with our rule, separated from each other by a comma:</p>
<ul>
<li><p>The first target is paragraph boxes (<code>p()</code>s), but
specifically only those given the <code>intro</code> class. A
<strong>class</strong> is an <em>attribute</em> that HTML boxes can have
that allows them to be controlled and styled as a group, and a period
<strong>operator</strong> is used to connect an HTML element type with a
<strong>class</strong> in a selector (<em>e.g.</em>,
<code>p.intro</code>).</p></li>
<li>
<p>Our second target is <code>div</code>s (short for “dividers,” a
generic kind of HTML box), but specifically only those with the
<strong>id</strong> <code>firstintro</code>. As we saw earlier,
<code>id</code>s are also attributes that HTML boxes can have, and they
allow us to specificially control or style just a single element. A
hashtag <strong>operator</strong> connects an HTML element type with an
<code>id</code> in a selector (<em>e.g.</em>,
<code>div#firstintro</code>).</p>
<ul>
<li><p>If you wanted to target all elements of a type (<em>e.g.</em>,
all <code>div()</code>s), you can just write the element name without
any periods or hashtags (e.g. <code>div</code>)</p></li>
<li><p>If multiple different types of elements (such as both divs and
ps) have been given the same class, you can omit a element type and just
specific the class (e.g., <code>.intro</code>).</p></li>
</ul>
</li>
</ul>
<p>Then, inside of our rule’s curly braces, we have a list. Each list
item is a pairing of a <strong>property name</strong> (<em>e.g.</em>,
<code>font-style</code>) and a new <strong>value</strong>
(<em>e.g.</em>, <code>italic</code>). The property and the value are
separated with a colon <strong>operator</strong>, and the pairing ends
with a semi-colon <strong>operator</strong>. Pay attention to these
punctuation rules—CSS is <em>very</em> particular about its
punctuation!</p>
<p>CSS rules can get more complex than this example, but they can also
be much simpler than this example—I’ve tried to provide a single example
that demonstrates all the key ideas without being too complicated.</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Try it: W3Schools is a <em>fantastic</em> resource for learning HTML
and CSS. <a href="https://www.w3schools.com/css/default.asp" title="W3Schools is a great resource for learning HTML and CSS; check out their CSS tutorial" class="external-link">Go
to their CSS page and check out some of the tutorial pages on the
left-hand side.</a> Using the “CSS Text” tutorial, write a CSS rule that
would change the font color of all paragraph boxes to red and make all
their text center-aligned.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>Here’s how you’d write this rule:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">CSS<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode css" tabindex="0"><code class="sourceCode css"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>p {</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="kw">color</span><span class="ch">:</span> <span class="cn">red</span><span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>}</span></code></pre>
</div>
<p>Notice that we can target all p elements by not specifying any
classes or ids. Don’t forget your colons or semi-colons! Also, notice
that, unlike R code, text values in CSS (like “red” and “center”)
shouldn’t be quoted.</p>
</div>
</div>
</div>
</div>
<p>Why are we bothering to understand CSS? Unfortunately, understanding
CSS is <strong>essential</strong> for crafting an <em>attractive</em> R
Shiny app. Without specifying your own CSS, you will need to:</p>
<ol style="list-style-type: decimal">
<li><p>Accept the very basic-looking default style choices set by R
Shiny, or</p></li>
<li><p>Use generic themes available in add-on packages such as
<code>bslib</code> that are used countless places on the web
already.</p></li>
</ol>
<p>These are fine things to do if your apps are simple or have limited
user bases, but, in my experience, neither is <em>nearly</em> as
satisfying as learning to style your app yourself using some CSS!</p>
</div>
</section><section><h2 class="section-heading" id="nothing-is-new-on-the-web">Nothing is new on the web<a class="anchor" aria-label="anchor" href="#nothing-is-new-on-the-web"></a>
<a class="anchor" aria-label="anchor" href="#nothing-is-new-on-the-web"></a>
</h2>
<hr class="half-width">
<p>We’ve talked about how a website is generally built, and we’ve looked
at the specific roles that HTML and CSS typically play in that process.
In particular, we discussed the concept of HTML boxes and how a website
is just a series of these boxes, stacked inside each other. Then, the
style of those boxes and their contents is set by CSS.</p>
<p>But what typically goes <strong><em>inside</em></strong> all those
boxes?!</p>
<p>With the internet now over 30 years old, most people have been
interacting with the web for a <em>long time</em>! We’ve all developed
many collective expectations for how websites should look and work. As a
result, most websites are comprised of a set of immediately-recognizable
components. Some of these include:</p>
<ul>
<li><p>A <strong>header</strong> (a box permanently hooked to the top of
the screen/page or to the top of a section of the page). This may
contain a title, a logo, a navigation menu, <em>etc.</em></p></li>
<li><p>A <strong>footer</strong> (similar to a header but at the bottom
of the screen/page or section). This might contain contact info, legal
information, links, disclaimers, version information,
<em>etc.</em></p></li>
<li>
<p>A “main content area,” which might be a single rectangle or
multiple rectangles of equal or unequal size (such as a “sidebar” and a
“main panel”). The main content area may contain blocks of text, media
such as videos, links, articles, <em>etc.</em></p>
<ul>
<li>Blocks of text may themselves can contain paragraphs, links, quotes,
articles, lists, headings, and many more sub-boxes!</li>
</ul>
</li>
<li>
<p><strong>Forms</strong>, <em>i.e.</em>, boxes that contain
multiple information-gathering <strong>widgets</strong>, which are
elements a user can interact with and expect some response, such as a
drop-down menu or a slider.</p>
<ul>
<li>Think here about the interactions you have when ordering takeout
through a restaurant’s website, for example. Many of those interactions
occur via widgets.</li>
</ul>
</li>
<li><p><strong>Modals</strong>, which you probably know as “pop-ups.”
These partially or wholly obscure the rest of the webpage and may
contain additional information, options, or alerts.</p></li>
<li><p>Backgrounds, which may hold images, solid colors, gradients, or
patterns.</p></li>
<li><p>Navigation systems, such as buttons, scroll bars, or drop-down
menus that allow users to move to different pages on the same
site.</p></li>
</ul>
<p>All of the elements above (and many more!) can be added to the
websites you design using R Shiny. As such, some of the first and most
important decisions you’ll make when building a Shiny app (or any
website) is deciding:</p>
<ol style="list-style-type: decimal">
<li><p><strong>What</strong> elements your app will contain,</p></li>
<li><p><strong>Where</strong> they will go,</p></li>
<li><p><strong>How</strong> they will look, and</p></li>
<li><p>What they’ll enable a user to <strong>do</strong>.</p></li>
</ol>
<p>While the list above is not exhaustive, it should help you start
making these decisions.</p>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Consider the webpage below:</p>
<figure><img src="../fig/clipboard-1560346890.png" class="figure mx-auto d-block"></figure><p>Like all webpages, this is just a series of “boxes inside of other
boxes.” Draw a version of the site as just that series of boxes, then
label what each box seems like it is designed to hold (don’t bother
drawing every single box, just the “major” or distinctive ones).</p>
<p>As you do that, list different components inside these boxes that are
familiar to you from other websites you’ve visited (things like buttons,
text blocks, etc.).</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>Here’s what I noticed and identified:</p>
<figure><img src="../fig/clipboard-2886539574.png" class="figure mx-auto d-block"></figure><p>You may have noticed more, fewer, or different things—that’s ok!</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Websites are typically built by using HTML, CSS, and JS to construct
the “client side” of the site, which runs in a user’s browser on their
computer, and by using SQL plus a general programming language like
Python to construct the “server side” of the website, which runs
remotely on a server that communicates back and forth with the user’s
browser.</li>
<li>R Shiny allows you to build a website entirely using R + R Shiny
code such that a deep understanding of other web development languages
is not required.</li>
<li>However, a <em>little</em> familiarity with HTML and CSS is helpful
for building a great app as well as for understanding what you are
really doing when you are writing “R Shiny” code. That’s ok because HTML
and CSS are much more approachable languages to learn than general
programming languages.</li>
<li>HTML is a system for telling a browser what to put where when it
builds a website. Most websites are just “boxes” that hold stuff,
including other boxes. Some of these boxes force new lines after them;
others don’t. How boxes will “flow” on wide versus narrow screens
depends on how they are set up.</li>
<li>CSS is a system for telling a browser how to aesthetically display
each element on a website. It consists of rules applied to specific HTML
boxes.</li>
<li>Website design has matured to the point that most websites look and
feel broadly similar and share many elements, such as buttons, links,
widgets, articles, media blocks, and so on. R Shiny lets us add these
same elements to our own websites, so we have many options when deciding
what elements our app will contain.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-shiny_2"><p>Content from <a href="shiny_2.html">R Shiny--The Ground Floor</a></p>
<hr>
<p>Last updated on 2024-07-11 |

        <a href="https://github.com/carpentries/r_shiny_workshop/edit/main/episodes/shiny_2.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 15 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Where do I start when building a Shiny app?</li>
<li>What’s the minimum code required to get a Shiny app to start
up?</li>
<li>What goes in my <code>server.R</code> file? My <code>ui.R</code>
file? My <code>global.R</code> file?</li>
<li>How do I design an app that will look nice and be accessible on a
range of devices?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Build out the files and folders we need to house our app.</li>
<li>Learn the names we’ll use for these files and folders.</li>
<li>Value the convenience granted by a <code>global.R</code> file.</li>
<li>Link an external stylesheet (CSS file) to our app.</li>
<li>Structure our <code>ui.R</code> file by nesting UI elements.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="preface">Preface<a class="anchor" aria-label="anchor" href="#preface"></a>
</h3>
<p>In the previous lesson, we learned the basics of web development and
how R Shiny relates to other web development
<strong>frameworks</strong>. In the next lesson, we’ll start actually
building a Shiny app together. First, though, there are several steps we
should take to set ourselves up for success.</p>
</div>
<div class="section level3">
<h3 id="installing-packages">Installing packages<a class="anchor" aria-label="anchor" href="#installing-packages"></a>
</h3>
<p>We’ll use a number of add-on R <strong>packages</strong>. These
include <code>shiny</code>, <code>dplyr</code>, <code>ggplot2</code>,
<code>leaflet</code>, <code>DT</code>, <code>gapminder</code>,
<code>sf</code>, <code>countrycode</code>, and <code>plotly</code>. If
you haven’t already, install those now.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##RUN THIS CODE IN YOUR CONSOLE PANE--**DON'T** INCLUDE IT INSIDE YOUR SHINY FILES. YOU ONLY NEED TO INSTALL PACKAGES **ONCE EVER** TO USE THEM.</span></span>
<span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"shiny"</span>, <span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span>, <span class="st">"leaflet"</span>, <span class="st">"DT"</span>, <span class="st">"plotly"</span>, <span class="st">"gapminder"</span>, <span class="st">"countrycode"</span>, <span class="st">"sf"</span><span class="op">)</span></span></code></pre>
</div>
<p>Note that <code>dplyr</code> and <code>ggplot2</code> are part of the
<code>tidyverse</code>, which can be installed using
<code>install.packages('tidyverse')</code>. However, that installation
process can take a long time, and we won’t use other packages from the
<code>tidyverse</code>, so it’s faster to install just the packages
above <em>a la carte</em>.</p>
<p>We need to turn those packages on in order to access their features
too, but we need to get do further set up first.</p>
</div>
<div class="section level3">
<h3 id="establishing-our-shiny-apps-project-folder">Establishing our Shiny app’s Project Folder<a class="anchor" aria-label="anchor" href="#establishing-our-shiny-apps-project-folder"></a>
</h3>
<p>It’s useful to make a single folder (we’ll call it our “<strong>root
directory</strong>” or just <strong>root</strong> for short) to house
all files associated with our app, and then we’ll make that folder an
<strong>R Project folder</strong>. You don’t need to know what this
means if you don’t already; just know it’s valuable.</p>
<p>Here’s how you do it:</p>
<ol style="list-style-type: decimal">
<li><p>In RStudio, go to <code>File</code>, then select the second
option, <code>New Project</code>.</p></li>
<li><p>In the pop-up that appears, select the first option,
<code>New Directory</code>.</p></li>
<li><p>Next, we’ll select the type of project we’re creating. One of
these creates a <code>Shiny application</code>, but select the
<em>first</em> option, <code>New Project</code>,
<em>instead</em>.</p></li>
<li><p>On the next screen, use the <code>Browse</code> button to find a
location to place the project folder on your computer. Then, give the
project a name related to the app you’re going to build. There are some
other options here that, if you’re familiar with Git or
<code>renv</code>, you might consider. Otherwise, click
<code>Create Project</code>.</p></li>
</ol>
<p><strong>Important</strong>: When the Project is created, you will see
a <code>.Rproj</code> file appear inside the new folder. From now on, to
work on your Shiny app, launch this file to start an RStudio session
connected to your Project. Doing so will save you time and energy!</p>
</div>
<div class="section level3">
<h3 id="creating-the-necessary-files">Creating the necessary files<a class="anchor" aria-label="anchor" href="#creating-the-necessary-files"></a>
</h3>
<p>It’s my preference (and recommendation) to build Shiny apps using the
so-called three-file system:</p>
<ul>
<li><p>Go to <code>File</code>, select <code>New File</code>, then
select <code>R Script</code>. Repeat this process two more times to
create three <strong>script</strong> files in total.</p></li>
<li>
<p>Then, give them these <em>exact</em> names (all lowercase):</p>
<ul>
<li><p><code>ui.R</code></p></li>
<li><p><code>server.R</code></p></li>
<li><p><code>global.R</code></p></li>
</ul>
</li>
</ul>
<p>These files will hold our app’s client side (<strong>user
interface</strong>) code, back-end (<strong>server</strong>) code, and
setup code, respectively.</p>
<p>R Shiny will recognize these exact names as “special,” so using them
enables some handy features. One of these is that, in the top-right
corner of the Script Pane, you should see a “Run App” button with a
green play arrow whenever you are viewing any of these three files in
this Pane.</p>
<figure><img src="../fig/clipboard-2238956949.png" class="figure mx-auto d-block"></figure><p>This button will allow you to start your app at any time to check it
out or test it.</p>
<p>There are some other folders and files to create next:</p>
<ul>
<li>
<p>In the “Files, Plots, Packages, etc.” Pane in your RStudio
window, while viewing your Project Folder, click the
<code>New Folder</code> button. Name this new folder <em>exactly</em>
<code>www</code>. R Shiny will automatically look inside a folder by
this name for many things, including media files (like images), custom
font files, and CSS files referenced by your app.</p>
<ul>
<li><p>Speaking of which: Click <code>File</code>,
<code>New File</code>, then <code>CSS file</code>. Give this file a name
like <code>styles.css</code>, then save it in your new <code>www</code>
folder.</p></li>
<li><p>If you plan to build complex Shiny apps, you may also want to
create a JavaScript file called something like <code>behaviors.js</code>
and place this new file in your <code>www</code> folder as well, but we
won’t use any such file.</p></li>
</ul>
</li>
<li><p>Create a second new folder inside your Project Folder. Call it
<code>inputs</code>. Use this folder to store input files your app needs
to start up, like data sets, but that <em>aren’t</em> media like
pictures or fonts. We won’t use this sub-folder, but, for real projects,
it’d be invaluable.</p></li>
<li><p>Create a third new folder inside your Project Folder. Call it
<code>Rcode</code>. As an app’s code base gets big, working on it may
get increasingly complicated unless you stay organized. If you ever want
to divide your app’s code into smaller chunks (such as by building
custom functions to perform repeat tasks or by dividing your app into
“modules”), you can place R files for each chunk in this folder, then
source them in your <code>global.R</code> file. We won’t use this
subfolder, but I use such a folder all the time in my apps.</p></li>
</ul>
<p>We now have all the files and folders we need, so we can start
placing into each one the code needed to get a Shiny app off the
ground.</p>
</div>
<div class="section level3">
<h3 id="starting-our-global-r-file">Starting our global.R file<a class="anchor" aria-label="anchor" href="#starting-our-global-r-file"></a>
</h3>
<p>We’ll start with <code>global.R</code>. R will run this file first
when booting up your app, so it’s job is to load and/or build everything
needed to enable the rest of the app to start up successfully and become
self-reliant.</p>
<p>When your app gets large and complex, this file will hold many
different things but, at a minimum, it will contain two things to start:
1) <code>library()</code> calls to load required packages and 2)
<code>read*()</code> calls to load required data sets:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##Place this code in your global.R file!</span></span>
<span></span>
<span><span class="co">### LOAD PACKAGES &lt;--CREATE HEADERS IN YOUR FILES TO KEEP LIKE CODE TOGETHER AND STAY ORGANIZED!</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">shiny</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">dplyr</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">ggplot2</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">plotly</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">DT</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">leaflet</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">sf</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">countrycode</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### LOAD DATA SETS </span></span>
<span><span class="va">gap</span> <span class="op">=</span> <span class="va">gapminder</span></span></code></pre>
</div>
<p>By having a <code>global.R</code> file, we can place things like
<code>library()</code> calls and code for loading data sets in a single
place and have it work for the entire app. Without it, we’d need these
commands in <em>every</em> file in which the results are referenced—what
a pain!</p>
</div>
<div class="section level3">
<h3 id="starting-our-server-r-file">Starting our server.R file<a class="anchor" aria-label="anchor" href="#starting-our-server-r-file"></a>
</h3>
<p>Setting up <code>server.R</code> is <em>relatively</em> easy because
there’s only one block of code we need to place in it at the start:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##Place this code in your server.R file!</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co">#ALL OUR EVENTUAL SERVER-SIDE CODE WILL GO HERE.</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre>
</div>
<p>Notice: <code>server.R</code> will eventually hold just one
<strong>object</strong>: a <strong>function</strong> called
<em>exactly</em> <code>server</code>. This function will have three
<strong>parameters</strong> called <em>exactly</em> <code>input</code>,
<code>output</code>, and <code>session</code>. R Shiny will look for the
function by this name when it starts up an app, and it will create
objects called <code>input</code>, <code>output</code>, and
<code>session</code> to feed it as it does so. Using these exact names
is critical!</p>
<p>It makes sense, if you think about it, that our app’s server file
will create a <strong>function</strong> (a verb) because it’s the “half”
of the app that will <em>do stuff</em>. By contrast, the
<strong>UI</strong> of our app just <em>“sits there and looks
pretty”</em> and only changes when directed to do so by the server,
typically in response to user actions.</p>
</div>
<div class="section level3">
<h3 id="starting-our-ui-r-file">Starting our ui.R file<a class="anchor" aria-label="anchor" href="#starting-our-ui-r-file"></a>
</h3>
<p>Even less code is <em>needed</em> to start with in <code>ui.R</code>
because our app’s UI file does not produce a function but rather just a
single HTML box into which other boxes will eventually be placed:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##Place this code in your ui.R file!</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">=</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  </span>
<span>  <span class="co">#ALL OUR EVENTUAL CLIENT-SIDE CODE WILL GO INTO ONE OF THE TWO SECTIONS BELOW.</span></span>
<span>  </span>
<span>  <span class="co">### HEAD SECTION</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co">### BODY SECTION</span></span>
<span>  </span>
<span><span class="op">)</span></span></code></pre>
</div>
<p>However, let’s do a little more to get our app building
jump-started.</p>
<p>First, let’s load our app’s <strong>stylesheet</strong>, the
<code>styles.css</code> file made earlier. Because the UI is the
“visual” part of a website, and because CSS controls a website’s looks,
it makes sense we’d load a CSS file in <code>ui.R</code>. It also makes
sense we’d do this in our app’s <code>head</code> box because it’s
instructions, not something a user needs to see. Here’s how to do
this:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="do">##Place this code INSIDE your app's fluidPage container in the HEAD section!</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  </span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  tags<span class="sc">$</span><span class="fu">link</span>(<span class="at">href =</span> <span class="st">"styles.CSS"</span>, <span class="co">#&lt;--OR WHATEVER YOU NAMED THIS FILE IN THE PREVIOUS LESSON.</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>            <span class="at">rel =</span> <span class="st">"stylesheet"</span>) </span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>), <span class="co">#&lt;--YOU'LL NEED A COMMA AFTER EVERY ELEMENT IN YOUR UI, SO YOU MIGHT WANT TO ADD THIS ONE HERE NOW.</span></span></code></pre>
</div>
<p>Here, we’ve told the app there is a specific <em>stylesheet</em>, a
CSS file, by the name of <code>styles.CSS</code> we want a user’s
browser to use when constructing our website. Note that we <em>link</em>
to this file rather than <em>load</em> it—that’s an HTML thing!</p>
<p><em>By default, the app will look for CSS stylesheets in the
<code>www</code> subfolder</em>, so as long as that’s where we put it,
we don’t need a more complex file path for the <code>href</code>
input.</p>
<p>We can also add some additional boxes as contents of our outermost
<code>fluidPage</code> container to start giving our app some
structure.</p>
<p>In this workshop, we’ll practice an approach called
<strong>mobile-first design</strong>. This means designing apps with
mobile users top of mind. The logic of this approach is that, if an app
looks and feels good on a narrow-screened, mouseless mobile device, it
should feel and look even better on a wider, mouse-enabled device, and
that designing in the “opposite direction” is generally much harder.</p>
<p>This means, among other things, we’ll aim for a “vertical” or
“stacked” layout, one in which pretty much every major element gets the
screen’s full width to occupy, and each subsequent element will go below
rather than next to the previous one.</p>
<p>However, we’ll also set things up such that, if a user does have a
wider screen, some things could go side by side, if that would look and
feel better.</p>
<p>So, let’s add the following to our app’s UI:</p>
<ol style="list-style-type: decimal">
<li><p>A <strong>header</strong>, built using
<code>titlePanel()</code>.</p></li>
<li><p>A <strong>footer</strong>, built using
<code>fluidRow()</code>.</p></li>
<li><p>In between, let’s make another row using <code>fluidRow()</code>.
Inside it, let’s place two columns using <code>column()</code> to create
two “cells” in a small “table.”</p></li>
</ol>
<p>The R Shiny function <code>column()</code> we’re using here has a
required input, <code>width</code>. All the <code>width</code> values of
<code>column()</code>s in a given <code>fluidRow()</code> must be whole
numbers that sum to 12.</p>
<p>So, let’s set the <code>width</code>s of these columns to
<code>4</code> and <code>8</code>, respectively. In practice, this’ll
make the second column half as wide as the first. As a result, the
second column will take up 2/3rds of the screen’s width, creating the
feel of a left-hand “side panel” and a right-hand “main panel.”</p>
<p>However, <code>fluidRow()</code>s are smart—on narrow screens,
elements in same row will flow vertically if there’s not enough room for
all of them to fit in their side-by-side configuration comfortably. This
means that our “side panel” will actually go <em>above</em> our main
panel on a cell phone screen automatically (because it’s specified
<em>first</em>), better than these elements being crammed side-by-side
when there isn’t enough room:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="do">##Place this code INSIDE your app's fluidPage container in the BODY section!</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">titlePanel</span>(<span class="at">title =</span> <span class="st">"Our amazing Shiny app!"</span>), <span class="co">#&lt;--EVERY NEW UI ELEMENT IS SEPARATED FROM EVERY OTHER BY COMMAS, JUST AS ITEMS IN "LISTS" IN R ARE SIMILARLY SEPARATED.</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="fu">fluidRow</span>(</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  <span class="do">###SIDEBAR CELL</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">4</span>),</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  <span class="do">###MAIN PANEL CELL</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>  <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">8</span>)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>),</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="fu">fluidRow</span>(<span class="at">id =</span> <span class="st">"footer"</span>)</span></code></pre>
</div>
<p>A couple of things about UI boxes in R Shiny based on this
example:</p>
<ol style="list-style-type: decimal">
<li><p>Most R Shiny boxes (though <code>titlePanel</code> is an
exception) have an <code>id</code> or <code>inputId</code> or
<code>outputId</code> <strong>parameter</strong>. The <code>id</code>
values provided to these boxes will often serve a Shiny-specific purpose
too, but they can be used in CSS selectors as well.</p></li>
<li><p>Most Shiny boxes also have a <code>class</code> parameter for use
in CSS code also. This one is optional, as is any <code>id</code>
parameter a box may have. However, if an element has an
<code>inputId</code> or <code>outputId</code> parameter, those will
<em>mandatory</em>—we’ll see why later!</p></li>
<li><p>Every Shiny UI element is separated from every other using
commas, much as separate items are distinguished in R code in many other
contexts. Forgetting these commas is a very common mistake for
beginners!</p></li>
<li><p>Because R Shiny UI code is <em>really</em> just HTML code,
writing it involves <strong>nesting</strong> a lot of function calls
inside other function calls. For many, this can be confusing initially!
Keep your code organized, use lots of comments, and divide your UI up
into sub-sections—whatever helps you!</p></li>
</ol>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>Start up your app at this point. What do you see? Explain why the app
looks the way it does so far.</p>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Besides our title, our app will actually look completely empty! This
is because we have made several HTML boxes (a footer, a side panel, a
main panel, and a box holding the latter two), but we have not actually
put anything in them yet! HTML boxes are empty until we provide them
with contents that aren’t other HTML boxes. That’s what we will do in
the next several lessons!</p>
<p>By most standards, our app will also look very basic—just a white
screen with a blank-looking title. This is because the default CSS
applied to Shiny apps is very basic! This is why I argued that learning
some CSS is essentially to crafting an attractive Shiny app.</p>
<p>Sure, we’ve linked to a separate CSS stylesheet, but we haven’t
actually put any code in it yet. Until we do, the default, bland style
rules will still be used.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="exercise">
<p>Let’s practice applying some CSS to our app! In your
<code>styles.css</code> file, write a rule that will make the title of
our app bold. The <strong>selector</strong> we’ll need to use here is
weird: <code>body&gt;div&gt;h2</code>. See if you can guess what it’s
doing. Meanwhile, the property to set here is called
<code>font-weight</code> and the value we want is <code>bold</code>. Run
your app to make sure your rule is working.</p>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Here’s what this should look like:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">CSS<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode css" tabindex="0"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>body<span class="op">&gt;</span>div<span class="op">&gt;</span>h2 {</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>}</span></code></pre>
</div>
<p>Why did we need such a goofy-looking selector? Well, our title ends
up being a “2nd level heading,” and these are called <code>h2</code>s in
HTML. This heading has no id or class (and we can’t give it one,
directly, which is pretty annoying!). So, we could just style all
<code>h2</code> elements with bold font by putting <code>h2</code> in
our selector.</p>
<p>But, since that might be messy if we have many such selectors,
instead, we’re targeting only <code>h2</code> elements that are directly
inside <code>div</code>s that are directly inside the <code>body</code>
element. That’s what the <code>&gt;</code> operator is doing—it’s
representing a specific “nesting order” that helps to make our selector
much more specific!</p>
<p>Don’t worry if this feels a little over your head; it’s a more
challenging example, but it demonstrates both how complex CSS rules can
get as well as how valuable it can be to learn a little CSS if you want
to style your app nicely.</p>
<p>Incidentally, if you can’t tell if your title has been successfully
styled, add <code>color: green;</code> to your rule, which will turn
your title green if your rule is working properly!</p>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Use the three-file system to organize your app’s code and to benefit
from R Shiny features built into RStudio.</li>
<li>A <code>global.R</code> file is handy for storing all code needed to
power app start-up as well as any code that needs to run only once.</li>
<li>A CSS stylesheet for dictating your app’s aesthetics can be linked
to an app inside of <code>ui.R</code>, specifically using
<code>tags$head()</code> to put the linkage into our app’s head HTML
container.</li>
<li>UI elements get nested inside one another and must all be placed
inside the UI’s outermost container (here, a <code>fluidPage()</code>).
Most UI elements can be given <code>id</code>s and <code>class</code>es
for styling with CSS and enabling other R Shiny features. Elements must
be separated from one another with commas.</li>
<li>
<code>fluidRow()</code> and <code>column()</code> can be used to
create a “grid,” within which elements could be arranged next to each
other on wide screens but which will automatically flow vertically on
narrow screens, creating a responsive, mobile-first design with little
fuss.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-shiny_3"><p>Content from <a href="shiny_3.html">R Shiny--The First Floor (Rendering, Inputs, and Reactivity)</a></p>
<hr>
<p>Last updated on 2024-07-11 |

        <a href="https://github.com/carpentries/r_shiny_workshop/edit/main/episodes/shiny_3.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 50 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do I put cool stuff into my app?</li>
<li>How do I give my users meaningful things to do with my app?</li>
<li>How do I code my app to respond to my user’s actions?</li>
<li>How do I give my user greater control over when/how my app responds
to their actions?</li>
<li>How do I give myself greater control over when/how my app responds
to user actions?</li>
<li>How is build R Shiny server code perhaps quite different than any
coding I’ve done before?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Build a table to display in our app’s UI.</li>
<li>Allow our users to adjust how the table appears in real time.</li>
<li>Give the users greater control over when the table’s appearance is
adjusted.</li>
<li>Define the terms reactive context, event, handling, declarative
coding, and imperative coding. Be able to relate them to coding in R
Shiny.</li>
<li>Explain how and why R Shiny server-side code executes differently
than traditional R code.</li>
<li>Use isolation and observers to achieve greater control over event
handling.</li>
<li>Expand our UI’s “real estate” by introducing a set of tabs.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="going-from-nothing-to-something">Going from nothing to something<a class="anchor" aria-label="anchor" href="#going-from-nothing-to-something"></a>
</h3>
<p>As we saw at the end of the previous lesson, if you start your app
now, it won’t look like much—just a title on an otherwise empty page. In
this lesson, we’ll fix that! As we add content, we’ll learn three core
concepts: 1) <strong>rendering</strong> and <strong>outputting</strong>
UI elements, 2) <strong>input widgets</strong>, and 3)
<strong>reactivity</strong>.</p>
<p>We’re going to create an app showcasing the <code>gapminder</code>
data set, which contains population, life expectancy, and economic data
over time for most countries. The goal will be to give users several
interesting ways to interactively engage with those data.</p>
<p>Let’s start by giving them a table with which to view the data. Given
that a table is just several boxes (cells) within larger boxes (rows and
columns), it makes sense that a table structure can be built using HTML,
although it can require a LOT of boxes!</p>
<p>Fortunately, we don’t have to “draw” all those boxes “by hand;” we
can have R do it. To insert an element into our UI that is complex
enough to build that using a programming language like R to build it for
us is appealing, we must:</p>
<ol style="list-style-type: decimal">
<li><p>Make (<em>i.e.</em>, <em>render</em>) that element on the server
side of our app.</p></li>
<li><p>Then pass it to the UI side, where it can be translated into
(<em>i.e.</em>, <em>outputted as</em>) the equivalent HTML
element(s).</p></li>
</ol>
<p>For virtually every such complex element you’d want to build in R
Shiny, there is a pair of functions designed to do those two steps. In
this particular case, that pair with be <code>renderTable({})</code> on
the server side and <code>tableOutput()</code> on the UI side. [Notice
that most Shiny functions follow a camelCase <strong>naming
convention</strong>.]</p>
<p>Let’s use these two functions to add a basic table of the
<code>gapminder</code> data set to our app:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##Place this code INSIDE your app's server function INSIDE your server.R file! </span></span>
<span></span>
<span><span class="co">###TABLE</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">basic_table</span> <span class="op">=</span> <span class="fu">renderTable</span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">gap</span> <span class="co">#&lt;--OR WHATEVER YOU NAMED THIS OBJECT IN GLOBAL.R</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre>
</div>
<p>In the code above, we instruct R to render an “HTML-ready” version of
a table containing the entire gapminder data set. If we wanted to do any
operations on this data set first (such as filtering it or adding
columns to it), we could have done those using “normal” R code inside
<code>renderTable({})</code>’s braces. So long as it’s a table, the last
thing produced or referenced inside the braces is what will be passed
over to the UI. Here, we just want to pass over the raw data set, so
that’s all we put inside the braces.</p>
<p><em>How</em> this table is passed from the server to the UI, though,
is worth highlighting! In the previous lesson, recall that the app
creates an object called <code>output</code> as soon as the app starts
running. The task of passing rendered elements from the server side of
the app to the client side is what <code>output</code> is for. We just
need to give the element a nickname (an <code>outputId</code>) and stick
the element to the <code>output</code> object using that nickname plus
the <code>$</code> operator, and the app will do the “passing” for us!
Here, the nickname I provided was <code>basic_table</code>.</p>
<p>The only other thing the app needs to know now is <em>where</em> it
should put this rendered table in the app’s UI. We can tell it that
using our placement of the <code>tableOutput()</code> call in our UI
code:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="do">##This code should **replace** the "main" fluidRow() contained within the BODY section of your ui.R file!</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="do">##... other UI code...</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="fu">fluidRow</span>(</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">4</span>),</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>         <span class="fu">tableOutput</span>(<span class="st">"basic_table"</span>)<span class="co">#&lt;--PUTTING OUR RENDERED TABLE INTO OUR "MAIN PANEL" CELL.</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>         )</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>),</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="do">##... other UI code...</span></span></code></pre>
</div>
<p>Here, we’ve placed our outputted table inside the “main panel” of our
central, two-column <code>fluidRow()</code>.</p>
<p>As you can imagine, we could want to display multiple tables in a
single app. How would the app know <em>which</em> table should be
displayed <em>where</em>? Well, <code>tableOutput()</code> takes, as its
first input, the <code>outputId</code> of the table that should be
displayed in that location, so we can use the <code>outputId</code>s we
pick when writing our server code to keep our outputs straight in our UI
code.</p>
<p>If you run your app at this point, you should get something that
looks like this:</p>
<figure><img src="../fig/clipboard-2809425075.png" class="figure mx-auto d-block"></figure><p>Which is cool! But also not <em>terribly</em> exciting…it looks a
little drab, and users can’t actually <strong>do</strong> anything with
this table except look at it. The first problem we’ll fix later by
swapping this table out for a much better one. However, we can fix the
second problem now.</p>
</div>
<div class="section level3">
<h3 id="giving-your-users-input">Giving your users input<a class="anchor" aria-label="anchor" href="#giving-your-users-input"></a>
</h3>
<p>The value of Shiny apps is often measured by much they let users
<em>do</em>. To enable meaningful user interactions, we need to add
<strong>widgets</strong> to our app. A widget is any element a user can
interact with in such a way that the app might be coded to respond to.
In web development, a user action that a webpage can watch for is called
an <strong>event</strong>; responding to an event (or choosing not to
respond!) is called <strong>handling</strong> it.</p>
<p>We’re going to give our users a way to interact meaningfully with our
table by adding an <strong>input widget</strong> to our UI. Then, we’re
going to tell our app how to <strong>handle</strong> any user
interactions with that widget by adding some <em>reactive</em> code to
our <code>server.R</code> file.</p>
<p>Let’s start by adding the input widget: We’ll add a
<code>selectInput()</code> call to our “sidebar” container in our UI.
This call will produce a “drop-down menu” style element that will allow
users to select a single choice from a pre-defined list. Specifically,
we’ll fill that list with the names of the columns in our
<code>gapminder</code> data set:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should **replace** the "main" fluidRow() contained within the BODY section of your ui.R file!</span></span>
<span></span>
<span><span class="co">##... other UI code...</span></span>
<span></span>
<span><span class="co">###SIDEBAR CELL</span></span>
<span>    <span class="fu">column</span><span class="op">(</span></span>
<span>      width <span class="op">=</span> <span class="fl">4</span>,</span>
<span>      <span class="co">##ADDING A DROP-DOWN MENU WIDGET TO THE SIDEBAR.</span></span>
<span>      <span class="fu">selectInput</span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"sorted_column"</span>,</span>
<span>        label <span class="op">=</span> <span class="st">"Select a column to sort the table by."</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu">names</span><span class="op">(</span><span class="va">gap</span><span class="op">)</span> <span class="co">#&lt;--OR WHATEVER YOU NAMED THIS OBJECT IN GLOBAL.R</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span><span class="co">##... other UI code...</span></span></code></pre>
</div>
<p>Notice that we had to provide <code>selectInput()</code> with three
inputs:</p>
<ol style="list-style-type: decimal">
<li><p>An <code>inputId</code> is both an <code>id</code> for the
purposes of CSS and a nickname the app will use for this widget
server-side. We’ll see how that works in a minute.</p></li>
<li><p>The text we provide to <code>label</code> will be the text that
accompanies the widget in the UI and, usually, explains to the user what
the widget does (if it isn’t obvious).</p></li>
<li><p>For <code>choices</code>, we provide a vector of values that will
be the options that appear in our drop-down menu and that users can
choose from.</p></li>
</ol>
<p>While there are a few variations on this theme, most R Shiny input
widgets work a lot like <code>selectInput()</code>, so it’s a good first
example.</p>
<p>Now, our app should look like this:</p>
<figure><img src="../fig/clipboard-2231599893.png" class="figure mx-auto d-block"></figure><p>Very nice!</p>
<p>…Except for two things. First, the choices in the drop-down menu are
a little…ugly. They look <em>exactly</em> like the names of the columns
in our data set, which are not very human readable in the sense that
they are abbreviations that lack spaces between words and also lack
capital letters.</p>
<p>How could we fix this? Well, we <em>could</em> rename the columns in
the data set, but while column names in R <em>can</em> contain spaces,
at best, it’s hard to make that work. Plus, longer and more complex
names require more typing.</p>
<p>Instead, we can provide a <strong>named vector</strong> to
<code>choices</code>. The names we give (those to the left of the
<code>=</code> operator) will be what gets displayed in the drop-down
menu, whereas the original column names (those to the right of the
<code>=</code>) will be what the server side of our app works with:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should **replace** the "main" fluidRow() contained within the BODY section of your ui.R file!</span></span>
<span></span>
<span><span class="co">##... other UI code...</span></span>
<span></span>
<span><span class="co">###SIDEBAR CELL</span></span>
<span>    <span class="fu">column</span><span class="op">(</span></span>
<span>      width <span class="op">=</span> <span class="fl">4</span>,</span>
<span>      <span class="fu">selectInput</span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"sorted_column"</span>,</span>
<span>        label <span class="op">=</span> <span class="st">"Select a column to sort the table by."</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span></span>
<span>          <span class="co">#BY USING A NAMED VECTOR, WE CAN HAVE HUMAN-READABLE CHOICES AND COMPUTER-READABLE VALUES. TYPE CAREFULLY HERE!</span></span>
<span>          <span class="st">"Country"</span> <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>          <span class="st">"Continent"</span> <span class="op">=</span> <span class="st">"continent"</span>,</span>
<span>          <span class="st">"Year"</span> <span class="op">=</span> <span class="st">"year"</span>,</span>
<span>          <span class="st">"Life expectancy"</span> <span class="op">=</span> <span class="st">"lifeExp"</span>,</span>
<span>          <span class="st">"Population size"</span> <span class="op">=</span> <span class="st">"pop"</span>,</span>
<span>          <span class="st">"GDP per capita"</span> <span class="op">=</span> <span class="st">"gdpPercap"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span><span class="co">##... other UI code...</span></span></code></pre>
</div>
<p>With that change made, our drop-down menu widget should be looking
much better! Except it doesn’t actually <em>do</em> anything…yet. We’ve
created something a user can interact with, triggering
<strong>events</strong>, but we haven’t told the app how to
<strong>handle</strong> those events yet.</p>
</div>
<div class="section level3">
<h3 id="rll-handle-that">R’ll handle that<a class="anchor" aria-label="anchor" href="#rll-handle-that"></a>
</h3>
<p>Let’s do that next. We’ll give the user the ability to sort the table
by the column they’ve selected by using the <code>dplyr</code> verb
<code>arrange()</code>. You might be surprised to learn that this is
actually quite straightforward in this particular case:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should **replace** the renderTable({}) call contained within your server.R file!</span></span>
<span></span>
<span><span class="co">###BASIC GAPMINDER TABLE</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">basic_table</span> <span class="op">=</span> <span class="fu">renderTable</span><span class="op">(</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">gap</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="co">#USE dplyr's arrange() VERB FOR SORTING ACCORDING TO THE PICKED COLUMN.</span></span>
<span>    <span class="fu">arrange</span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="fu">sym</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">sorted_column</span><span class="op">)</span><span class="op">)</span> <span class="co">#!! (PRONOUNCED "BANG-BANG") AND sym() ARE OBSCURE R TRICKS, NOT R SHINY THINGS. LET'S NOT WORRY ABOUT WHAT THEY DO.</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre>
</div>
<p>##This code should **replace** the renderTable({}) call contained
within your server.R file!</p>
<p>Earlier, we met the <code>output</code> object, which exists to pass
rendered entities from the server to the UI where they can be seen by
the user. Here, we meet the <code>input</code> object, which exists to
pass user inputs from the UI to the server where they can be responded
to.</p>
<p>In this instance, <code>input</code> is passing (<em>all the time
forever!</em>) the <strong>current</strong> value of the widget with the
<code>inputId</code> <code>sorted_column</code> (that’s the nickname I
gave our drop-down menu when I created it) over to the server. Our
server code can then use that value to influence how it builds our
table, such as how it sorts it.</p>
<p>But it’s fancier than that! R Shiny knows that, <em>at any
moment</em>, <code>input$sorted_column</code>’s value could
<em>change</em>. Objects with user-changeable values are called
<strong>reactive objects</strong>—at any moment, they might change
<em>in reaction to</em> what a user is doing.</p>
<p>So, because we’ve used <code>input$sorted_column</code> in some of
our server code, and because R knows that
<code>input$sorted_column</code>’s value could change at any time, it
knows to be <em>watching</em> for such changes.</p>
<p>Whenever it sees one, it runs whatever code involves
<code>input$sorted_column</code> <em>again</em>. The logic of this makes
sense, when you think about it: If <code>input$sorted_column</code> has
changed, anything that used its <em>previous</em> value may now be
“outdated,” so it’d be good to <em>re-run</em> <em>all</em> the
associated code and produce more current outputs!</p>
<p>Run the app and try it out. As you select different columns using the
drop-down menu, the table <em>automatically</em> rebuilds, sorted by the
column you’ve picked most recently. Because the code inside
<code>renderTable({})</code> contains <code>input$sorted_column</code>,
all that code reruns every time <code>input$sorted_column</code>
changes, which happens every time the user selects a new column from the
drop-down menu. We’re successfully <em>handling</em> the <em>events</em>
triggered by our user’s interactions with our input widget!</p>
</div>
<div class="section level3">
<h3 id="reactivity">Reactivity<a class="anchor" aria-label="anchor" href="#reactivity"></a>
</h3>
<p>There is just one small and technical but important detail: Our
server code <em>can’t</em> watch for changes in the values of
<strong>reactive objects</strong> just anywhere—it can <em>only</em> do
so within so-called <strong>reactive contexts</strong>.</p>
<p>A reactive context is a code block that R <em>knows</em> it needs to
watch and might need to run over and over (or never!). It makes sense
that we can only put changeable objects inside code blocks that R knows
it needs to be watching for such changes!</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p><strong>Try it:</strong> Pause here to prove the previous point. Copy
<code>input$sorted_column</code> and paste it anywhere <em>inside</em>
your server function but <em>outside</em> of
<code>renderTable({})</code>. Then, try running your app. It should
<strong>immediately</strong> crash! Notice the R error in your R Console
when this happens and rephrase it in your own words.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>You’ll get an error that looks a lot like this:<br><br>
Error in $: Can’t access reactive value ‘sorted_column’ outside of
reactive consumer. ℹ Do you need to wrap inside reactive() or
observe()?</p>
<p>This error notes that <code>input$sorted_column</code> is a
<strong>reactive object</strong> (to be technical, a sub-type called a
reactive value) and that you’ve tried to reference it outside of a
reactive context, where R would actually be “prepared” to watch it.</p>
</div>
</div>
</div>
</div>
<p>How can we recognize a reactive context so we know where we can and
can’t put entities like <code>input$sorted_column</code>?</p>
<p><em>Generally speaking</em>, when an R Shiny server-side function
takes, as an input, an <em>expression</em> bounded by curly braces (
<code>{}</code> ), everything inside those curly braces becomes a
reactive context.</p>
<p>Maybe you’ve noticed the curly braces in <code>renderTable({})</code>
and wondered what they’re for. <em>The main input to every
<code>render*()</code> function is an <strong>expression</strong> for
creating a <strong>reactive context</strong>!</em></p>
<p>That means R <em>assumes</em> that every complex element we render in
our server might need to be <em>re-rendered</em> because the user
changed or did something. We provided <code>renderTable({})</code> with
a set of instructions that included what to do to <em>handle</em>
changing values of <code>input$sorted_column</code> and
<code>renderTable({})</code> handles (literally) the rest.</p>
</div>
<div class="section level3">
<h3 id="how-r-shiny-differs-from-normal-r">How R Shiny differs from “normal R”<a class="anchor" aria-label="anchor" href="#how-r-shiny-differs-from-normal-r"></a>
</h3>
<p>You’re hopefully realizing how coding in R Shiny is different from
coding in “normal R” in some key ways.</p>
<p>For many regular R users, the “nestedness” of the code in a UI file
probably feels pretty foreign (it should—we’re basically writing HTML
code there!).</p>
<p>Meanwhile, on the server side, having to imagine and design ways a
user might interact with our app and then coding instructions for how
the app should respond, no matter when or under what circumstances, is
probably also foreign-feeling.</p>
<p>It should—R Shiny server code is <em>not</em> like normal R code! In
fact, it’s an entirely different <em>paradigm</em> of programming.</p>
<p>Normal R code is generally executed <strong>imperatively</strong>.
That is, it is run from the first command to the last as fast as
possible as soon as we (the user) hit “run.”</p>
<p>Server-side Shiny code, meanwhile, is generally executed
<strong>declaratively</strong>. That is, it generally runs once when the
app starts up (or not), but, after that, it never runs again
<em>unless</em> and <em>until</em> it is <em>triggered</em> to run by
one or more specific <strong>events</strong>. [This is true when R is
deciding which reactive contexts to run when; however, the normal R code
<em>within</em> those contexts will still run imperatively, once that
reactive context begins running.]</p>
<p>These two different paradigms can be understood better via an
analogy: Imagine you are in a sandwich shop ordering a sandwich. You
probably expect that the employees of the shop will begin making your
sandwich as soon after you place your order as possible, using
instructions and supplies their manager gave them.</p>
<p>In that analogy, the relationship between you and the shop is
<strong>imperative</strong>; you aive a “command” and the sandwich shop
“executed” that command as quickly as it could manage via a pre-defined
set of steps.</p>
<p>Meanwhile, the relationship between the manager and their employees
is <strong>declarative</strong>. The manager can’t know which customers
will come on a given day, when they will show up, or which sandwiches
each will want. So, they can’t give their employees precise
“commands.”</p>
<p>Instead, they have to tell them to “watch for customers” and, when
those customers arrive and place orders (most, if not all, of which are
predictable ahead of time!), they should use a generalized set of
instructions to handle whatever orders have been placed.</p>
<p>As web developers, our relationship with our users is similar. We
can’t know who will show up when and what exactly they might decide to
do. However, we <em>can</em> anticipate common actions they might take,
give them desirable actions to take, and give the app detailed but
generalized enough instructions that it can take care of all those
different requests whenever (or if ever) they occur.</p>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>Check for understanding: How does the code we’ve written so far in
our <code>server.R</code> file execute differently than code we’d write
in a traditional R script? How does the code inside of
<code>renderTable({})</code>’s braces differ from traditional R code we
might write?</p>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Server-side R code is often broken up into many reactive contexts,
each tasked with generating one or more complex UI elements and/or
handling user actions. Unlike traditional R code, much of this
server-side code runs when a user performs a triggering action, not when
an operator hits “enter,” so to speak.</p>
<p>Plus, server-side code is not always run from top to bottom; reactive
contexts will (re)-run based on user actions, not on placement within
the file. Plus, reactive contexts may be trigger to rerun multiple
times, or never, depending upon what actions a user does or does not
take.</p>
<p>Inside a reactive context, things are more traditional in that the
code inside a reactive context will run just once, from top to bottom,
as quickly as possible as soon as that context is triggered to (re)run.
However, these contexts may contain reactive objects (like
<code>input</code> sub-objects), and it’s changes in the values of these
objects that might cause reactive contexts to need to rerun to produce
more current outputs.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="buttoning-this-up">Buttoning this up<a class="anchor" aria-label="anchor" href="#buttoning-this-up"></a>
</h3>
<p>By this point, R now knows that:</p>
<ol style="list-style-type: decimal">
<li><p>Users might select new columns in our input widget
(<strong>events</strong>),</p></li>
<li><p>It should watch out for any such events, and</p></li>
<li><p>If any occur, it should execute the <code>renderTable({})</code>
code again, which will re-generate the table in a way we’ve instructed
given whatever the user has selected.</p></li>
</ol>
<p>In this specific circumstance (a simple table regulated by users
through just one input widget), this setup is <em>probably</em> fine.
However, imagine users had several inputs widgets instead of just one.
If we used this same approach to handle events based on those inputs,
changing any one of the inputs would trigger the table-rendering code to
rerun and the table would be remade.</p>
<p>That may be an undesirable level of reactivity, for several reasons.
Users often expect to have some say in when exactly an app changes
states. Maybe they expect to be able to experiment with the inputs to
find the combination of selections they are most interested in
<em>before</em> the app responds. Maybe the table loads slowly, and the
user would rather not have to wait through the rebuilding process unless
they’re ready. Maybe they just want to be “in control” because they’d
find updating distracting when it doesn’t happen on <em>their</em>
terms.</p>
<p>Whatever the reason, we can easily give our users greater control
over our table by adding another input widget: an
<code>actionButton()</code>.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should **replace** the "sidebar" content of our fluidRow() contained within the BODY section of your ui.R file!</span></span>
<span></span>
<span><span class="co">##... other UI code...</span></span>
<span></span>
<span><span class="co">###SIDEBAR CELL</span></span>
<span>    <span class="fu">column</span><span class="op">(</span></span>
<span>      width <span class="op">=</span> <span class="fl">4</span>,</span>
<span>      <span class="fu">selectInput</span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"sorted_column"</span>,</span>
<span>        label <span class="op">=</span> <span class="st">"Select a column to sort the table by."</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu">c</span><span class="op">(</span></span>
<span>          <span class="st">"Country"</span> <span class="op">=</span> <span class="st">"country"</span>,</span>
<span>          <span class="st">"Continent"</span> <span class="op">=</span> <span class="st">"continent"</span>,</span>
<span>          <span class="st">"Year"</span> <span class="op">=</span> <span class="st">"year"</span>,</span>
<span>          <span class="st">"Life expectancy"</span> <span class="op">=</span> <span class="st">"lifeExp"</span>,</span>
<span>          <span class="st">"Population size"</span> <span class="op">=</span> <span class="st">"pop"</span>,</span>
<span>          <span class="st">"GDP per capita"</span> <span class="op">=</span> <span class="st">"gdpPercap"</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="co">##ADD AN actionButton(). PAY CLOSE ATTENTION TO CHANGES IN COMMAS/PARENTHESES IN THIS REGION!</span></span>
<span>      <span class="fu">actionButton</span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"go_button"</span>, label <span class="op">=</span> <span class="st">"Go!"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span><span class="co">##... other UI code...</span></span></code></pre>
</div>
<p>This will add a simple, button-style input widget to our app’s
sidebar. It will say <code>Go!</code> on it (<code>label</code>), and
it’s current value (which is a number equal to the number of times it
has been pressed, or <code>NULL</code> if it hasn’t been pressed yet)
will be passed from the UI to the server at all times via
<code>input$go_button</code>.</p>
<p>Now, we need to tell R how to <strong>handle</strong> it when a user
presses our button (until then, pressing it won’t do anything!). In this
case, we want the table to update <em>only</em> whenever the button is
pressed (<em>i.e.</em>, whenever <code>input$go_button</code>
changes.</p>
<p>Here’s where we hit a little snag: <code>renderTable({})</code>’s
reactive context is “indiscriminate;” <em>any</em> change in
<em>any</em> reactive object it contains will trigger ithe reactive
context to rerun. So, simply adding <code>input$go_button</code> to that
reactive context will <em>not</em> prevent changes in
<code>input$sorted_column</code> from triggering a rerun. And we can’t
just remove <code>input$sorted_column</code> from the reactive context
because, then, we couldn’t use its value to decide how to sort the
column when we do remake the table. We’re stuck!</p>
<p>Thankfully, Shiny has a function for sticky situations like these:
<code>isolate()</code>. Wrapping any reactive object in
<code>isolate()</code> allows R to use its current value to do work but
prevents R from watching that object for changes.</p>
<p>So, we can implement our new table-rendering approach like this:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should **replace** the renderTable({}) call contained within your server.R file!</span></span>
<span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">basic_table</span> <span class="op">=</span> <span class="fu">renderTable</span><span class="op">(</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="co">#BY PLACING input$go_button IN THIS EXPRESSION (EVEN IF WE DON'T USE IT TO DO ANYTHING!), WE MAKE THIS EXPRESSION A REACTIVE CONTEXT. IF IT CHANGES, THIS EXPRESSION WILL RE-RUN. </span></span>
<span>  <span class="va">input</span><span class="op">$</span><span class="va">go_button</span></span>
<span>  </span>
<span>  <span class="co">#USING isolate() PREVENTS input$sorted_column FROM BEING REACTIVE (CHANGES TO IT WON'T BE HANDLED) BUT STILL ALLOWS US TO USE ITS CURRENT VALUE.</span></span>
<span>  <span class="va">gap</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="fu">arrange</span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="fu">sym</span><span class="op">(</span><span class="fu">isolate</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">sorted_column</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre>
</div>
<p>Now, when users fiddle with our drop-down menu, nothing happens to
the table…<em>until</em> we press the button. At that point, iIf our
selection in our drop-down menu has changed since the last time the
button was pressed, the table will re-render.</p>
</div>
<div class="section level3">
<h3 id="being-observant">Being observant<a class="anchor" aria-label="anchor" href="#being-observant"></a>
</h3>
<p>This approach <em>works</em>, but it can get a little unwieldy if you
have <em>many</em> inputs that would need isolating. For situations like
those, where you would want the app to respond a certain way
<em>only</em> when a <em>specific</em> reactive object changes,
especially when that response needs to involve a bunch of other reactive
objects you <em>don’t</em> want being watched, we can make our event
handling considerably more precise using
<code>observeEvent({},{})</code>:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should be **added to** your server.R file, after all other code but inside of your server function!</span></span>
<span></span>
<span><span class="co">#observeEvent({},{}) TAKES TWO EXPRESSIONS AS INPUTS. IT WATCHES THE FIRST AND, WHEN IT CHANGES, IT RESPONDS BY RE-RUNNING THE SECOND. </span></span>
<span><span class="co">#SO, THE FIRST IS REACTIVE, BUT THE SECOND IS NOT. </span></span>
<span><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">go_button</span>, <span class="op">{</span> </span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">basic_table</span> <span class="op">=</span> <span class="fu">renderTable</span><span class="op">(</span><span class="op">{</span></span>
<span>    </span>
<span>    <span class="co">#WE DON'T NEED isolate() ANY MORE--THIS SECOND EXPRESSION IS NOT REACTIVE, SO CHANGES TO input$sorted_column WILL NOT TRIGGER THIS CODE BLOCK TO RUN.</span></span>
<span>  <span class="va">gap</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="fu">arrange</span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="fu">sym</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">sorted_column</span><span class="op">)</span><span class="op">)</span> </span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre>
</div>
<p>Notice that I’m writing <code>observeEvent({},{})</code> using
<em>two</em> sets of braces. That’s because we give it, as inputs,
<em>two</em> expressions. However, interestingly, these have a specific
relationship:</p>
<ol style="list-style-type: decimal">
<li><p>R <em>watches</em> <em>only</em> the <em>first</em> of these
expressions for changes (it’s the only <strong>reactive</strong>
<strong>expression</strong>).</p></li>
<li><p>R will only ever actually <em>execute</em> the <em>second</em> of
these expressions, and <em>only</em> in response to changes in the
<em>first</em> expression (changes to <code>input$sorted_column</code>
<em>aren’t</em> being watched because it’s in the second expression, not
the first). It’s as if the <em>entire</em> second expression is wrapped
in <code>isolate()</code>!</p></li>
</ol>
<p>So, <code>observeEvent({},{})</code> is the equivalent of telling R
“if <em>exactly</em> [first expression] changes, do <em>exactly</em>
[second expression],” which is often the level of precision we’ll want
when handling events in a Shiny app! It’s for this reason that I use
<code>observeEvent({},{}</code>s in large volumes in my own apps.</p>
</div>
<div class="section level3">
<h3 id="totally-tabular">Totally tabular<a class="anchor" aria-label="anchor" href="#totally-tabular"></a>
</h3>
<p>We now have all the conceptual tools we need to build a cool app! In
the last lesson, we’ll replace this table will a cooler one, and we’ll
add a map and graph. To keep all this organized, though, let’s add
<strong>tabs</strong> to our main content area, one for each of these
features.</p>
<p>We can do this using the R Shiny functions
<code>tabsetPanel()</code>, which is the container that holds all the
tabs, and <code>tabPanel()</code>, which holds the contents of a single
tab:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##This code should **replace** the "main panel" content of our fluidRow() contained within the BODY section of your ui.R file!</span></span>
<span></span>
<span><span class="co">##... other UI code...</span></span>
<span></span>
<span><span class="co">###MAIN PANEL CELL</span></span>
<span><span class="co">##NEST YOUR UI ELEMENTS HERE **CAREFULLY**!</span></span>
<span>    <span class="fu">column</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">8</span>, <span class="fu">tabsetPanel</span><span class="op">(</span></span>
<span>      <span class="co">###TABLE TAB</span></span>
<span>      <span class="fu">tabPanel</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Table"</span>, </span>
<span>               <span class="fu">tableOutput</span><span class="op">(</span><span class="st">"basic_table"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="co">###MAP TAB</span></span>
<span>      <span class="fu">tabPanel</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Map"</span>,</span>
<span>      <span class="co">###GRAPH TAB</span></span>
<span>      <span class="fu">tabPanel</span><span class="op">(</span></span>
<span>        title <span class="op">=</span> <span class="st">"Graph"</span>,</span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>   <span class="op">)</span></span>
<span></span>
<span><span class="co">##... other UI code...</span></span></code></pre>
</div>
<p>Now, if we look at our app, we’ll see that we have three tabs in our
main panel area with the <code>title</code>s we specified in our code.
We can swap between the tabs using each tab panel’s tab (yes, that is
awkward to say!) at the top, just like in a browser. The second and
third tab panels are empty for now, but we’ll soon fix that!</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Complex UI elements, like tables and graphs, will first need to be
rendered in our server code and then placed within our UI’s structure
using an <code>*Output()</code> function of some kind.</li>
<li>Rendered entities that are ready for display are passed from the
server to the UI via the <code>output</code> object and the
<code>outputId</code>’s we give these objects when we render them.</li>
<li>Input widgets are UI elements that allow users to interact with our
app. The current values of these widgets are being constantly passed
from the UI to the server via the <code>input</code> object and the
<code>inputId</code>’s we give these widgets when we create them.</li>
<li>R knows to be watching reactive objects like those attached to
<code>input</code> for changes. Any such changes are called events.
Event handling is the process by which specific responses are coded to
specific events.</li>
<li>The primary way R Shiny handles events is by re-running any reactive
contexts that contain the reactive object that has changed, unless that
object is wrapped in <code>isolate()</code>.</li>
<li>In our server code, reactive contexts are triggered to run
directively (in response to user actions), not imperatively (triggered
to run by a coder hitting “run”). They might run in any order, or never,
depending upon what a user does. However, once a reactive context begins
running, it’s contents are run imperatively through to completion (even
if they take a long time!), during which time the app will be
unresponsive.</li>
<li>Observers (like <code>observeEvent({},{})</code>) build additional
reactive constructs within which we can handle events. In particular,
<code>observeEvent({},{})</code> allows for very precise event-handling
in that only changes to reactive objects provided to its first
expression trigger only the second expression to re-run.</li>
<li>
<code>tabPanel()</code> and <code>tabsetPanel()</code> allow you to
create a “tabular layout,” allowing you to divide up one space in your
UI into several, only one of which can be seen at one time.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries/r_shiny_workshop/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries/r_shiny_workshop/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries/r_shiny_workshop/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries/r_shiny_workshop/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.5" class="external-link">sandpaper (0.16.5)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.6" class="external-link">pegboard (0.7.6)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.3" class="external-link">varnish (1.0.3)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries.github.io/r_shiny_workshop/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, r, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries.github.io/r_shiny_workshop/instructor/aio.html",
  "identifier": "https://carpentries.github.io/r_shiny_workshop/instructor/aio.html",
  "dateCreated": "2024-07-10",
  "dateModified": "2024-07-11",
  "datePublished": "2024-07-11"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

